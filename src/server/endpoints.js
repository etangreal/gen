
// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
// ENDPOINTS
// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––

module.exports = function(app) {

	// ------------------------------------------------------------------------------------------------
	// PARAMETERS
	// ------------------------------------------------------------------------------------------------

	app.param('token', function(req, res, next, token) {
		req.token = token;
		next();
	});

	// ------------------------------------------------------------------------------------------------
	// GREET
	// ------------------------------------------------------------------------------------------------

	app.post('/user/greet/:token?', function(req, res) {
		res.json( app.rest.greet(req.body, req.token) );
	});

	// ------------------------------------------------------------------------------------------------
	// HANDSHAKE
	// ------------------------------------------------------------------------------------------------

	app.post('/user/handshake/:token?', function(req, res) { 
		res.json( app.rest.handshake(req.body, req.token ) );
	});

	// ------------------------------------------------------------------------------------------------

}//MODULE.EXPORT = FUNCTION(APP)

// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
// END
// ––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––
